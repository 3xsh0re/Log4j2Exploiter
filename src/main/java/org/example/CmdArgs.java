package org.example;

import com.beust.jcommander.JCommander;
import com.beust.jcommander.Parameter;

// 用于解析命令行中的参数
public class CmdArgs {
    @Parameter(names = {"-i", "--ip"}, description = "netcat ip address ", required = true, order = 1)
    public static String ncIp = "0.0.0.0";
    @Parameter(names = {"-p", "--port"}, description = "netcat port", required = true, order = 2)
    public static String ncPort = "7777";

    public static int ldapPort = 1389;

    public static int rmiPort = 1099;

    @Parameter(names = {"-h", "--help"}, help = true, description = "You can read the tool's usage")
    private static boolean helpInfo = false;


    public static void starter(String[] args) {
        JCommander jc = JCommander.newBuilder()
                .addObject(new CmdArgs())
                .build();
        System.out.println("[+]Log4j2Exploiter Running!");
        try{
            jc.parse(args);
        }catch(Exception e){
            if(!helpInfo){
                System.out.println("[-]Error: " + e.getMessage() + "\n");
                helpInfo = true;
            }
        }

        if (helpInfo){
            System.out.println("Log4j2Exploiter usage:");
            System.out.println("Log4j2Exploiter usage:");
        }


    }

}
